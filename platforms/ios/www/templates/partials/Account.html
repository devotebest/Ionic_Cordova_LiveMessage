<ion-view title="{{(currentUserName) ? currentUserName : 'textter'}}">
    <ion-content has-header="true" has-footer="true" padding="false">
        <div class="list" ng-show="loggedIn">
            <div class="item noTopBorder">
                <img id="userImage" class="padding" ng-src="{{userImage}}">
            </div>

            <a class="item item-icon-right positive borderTop" camera ng-model="myPicture">
                Set Profile Image<i class="icon ion-ios7-camera-outline"></i>
            </a>

            <a class="item item-icon-right positive" ng-click="shareTextter()">
                Share Textter with Friends<i class="icon ion-ios7-upload-outline"></i>
            </a>

            <a class="item item-icon-right positive" ng-click="logoutUser()">
                Logout<i class="icon ion-log-out"></i>
            </a>
        </div> 

        <div class="list" ng-hide="loggedIn || newAccount">
          <ng-form name="loginForm" novalidate ng-controller="API">
                  <label class="item item-input" ng-show="signupErr">
                      <span class="center" style="color:#e74c3c;">{{errorMessage}} Please Try Again</span>
                  </label>
                  <label class="item item-input">
                      <span class="input-label">Username</span>
                      <input type="text" ng-model="oldUser.username" id="Username" name="Username" ng-focus="hideTabs()" ng-blur="showTabs()" required>
                  </label>
                  <label class="item item-input" ng-show="loginForm.Username.$dirty && loginForm.Username.$invalid">
                      <span class="error" style="color:#e74c3c;"  >Please Enter a Username</span><br>
                  </label>
                  <label class="item item-input">
                      <span class="input-label">Password</span>
                      <input type="password" ng-model="oldUser.password" id="Password" name="Password" required ng-focus="hideTabs()" ng-blur="showTabs()">
                  </label>
                  <label class="item item-input" ng-show="loginForm.Password.$dirty && loginForm.Password.$invalid">
                      <span class="error" style="color:#e74c3c;" >Please Enter a Password</span><br>
                  </label>
                  <div class="loadHolder" ng-show="loadingIn"> <i class="ion-ios7-reloading loader"></i></div>
                  <button ng-click="loginUserForm(oldUser); showTabs();" class="button button-positive button-clear button-block">Sign In</button>
              </ng-form>
              <button  class="button button-positive button-clear button-block" ng-click="showSignup()">Don't Have an account?</button>
     
          </div>

          <div class="list" ng-show="newAccount">
            <ng-form ng-controller="API" name="signupForm" novalidate>
                <label class="item item-input" ng-show="signupErr">
                    <span class="center" style="color:#e74c3c;">Please Try Again</span>
                </label>

                <label class="item item-input">
                    <span class="input-label">Username</span>
                    <input type="text" name="Username" id="Text1" ng-model="newUser.username" required  ng-maxlength="30" ng-focus="hideTabs()" ng-blur="showTabs()" >
                </label>
                <label class="item item-input" ng-show="signupForm.Username.$dirty && signupForm.Username.$invalid">
                    <span class="error" style="color:#e74c3c;"> Please Enter a Username</span><br>
                </label>
               
                <label class="item item-input">
                    <span class="input-label" >Email</span>
                    <input type="email" name="Email" id="Email" ng-model="newUser.email" required  ng-pattern="EMAIL_REGEXP" ng-focus="hideTabs()" ng-blur="showTabs()" >
                </label>
                <label class="item item-input" ng-show="signupForm.Email.$dirty && signupForm.Email.$invalid" >
                    <span class="error" style="color:#e74c3c;" >Email is required and must be valid</span><br>
                </label>

                <label class="item item-input">
                    <span class="input-label">Phone</span>
                    <input type="tel" name="Phone" id="Phone" ng-model="newUser.phone" required ng-focus="hideTabs()" ng-blur="showTabs()">
                </label>
                <label class="item item-input" ng-show="signupForm.Phone.$dirty && signupForm.Phone.$invalid">
                    <span class="error" style="color:#e74c3c;" >Please Enter Your Phone Number</span><br>
                </label>

                <label class="item item-input">
                    <span class="input-label">Password</span>
                    <input type="password" name="Password" id="Password1" ng-model="newUser.password" required ng-focus="hideTabs()" ng-blur="showTabs()">
                </label>
                <label class="item item-input" ng-show="signupForm.Password.$dirty && signupForm.Password.$invalid">
                    <span class="error" style="color:#e74c3c;" >Please Enter a Password</span><br>
                </label>
                <div class="loadHolder" ng-show="loadingIn"> <i class="ion-ios7-reloading loader"></i></div>
                <button ng-click="signupUserForm(newUser)" class="button button-clear button-positive button-block">Sign Up</button>
            </ng-form>
            <button ng-click="showLogin()" class="button button-clear button-positive button-block">Already have an account?</button>
        </div> 
    </ion-content>
  </ion-view>



